<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title><%= typeof title !== 'undefined' ? title : 'Admin Panel' %></title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />
  <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet" />
  <link rel="stylesheet" href="/css/admin_panel.css" />
</head>
<div class="admin-header">
  <h1>Products</h1>
  <button class="btn btn-primary" id="addProductBtn">+ Add Product</button>
</div>
<!-- Filters/Search -->
<div class="admin-filters">
  <select id="categoryFilter"><option>All Categories</option></select>
  <select id="statusFilter">
    <option>All Status</option>
    <option>Active</option>
    <option>Inactive</option>
  </select>
  <input type="text" id="searchInput" placeholder="Search products...">
</div>
<!-- Product Table -->
<table class="admin-table">
  <thead>
    <tr>
      <th><input type="checkbox"></th>
      <th>Product</th>
      <th>Category</th>
      <th>Price</th>
      <th>Status</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody id="productTableBody">
    <!-- Product rows will be rendered here -->
  </tbody>
</table>
<!-- Pagination -->
<div class="pagination"></div>
<!-- Contact Messages Section -->
<div id="contactMessagesSection" style="display:none; margin-top:40px;">
  <div class="admin-header">
    <h1>Contact Messages</h1>
  </div>
  <table class="admin-table">
    <thead>
      <tr>
        <th>Type</th>
        <th>Subject</th>
        <th>Sender</th>
        <th>Date</th>
        <th>Message</th>
      </tr>
    </thead>
    <tbody id="messagesTableBody">
      <!-- Messages will be rendered here -->
    </tbody>
  </table>
</div>
<!-- Add/Edit Product Modal -->
<div class="admin-container" id="productModal" style="display:none;">
  <!-- <div class="box"> -->
    <div class="login">
      <div class="loginBx">
        <button type="button" class="close-modal" id="closeProductModal" aria-label="Close"><i class="ri-close-line"></i></button>
        <h2>Add New Product</h2>
        <form class="inputBx" id="productForm">
          <div class="form-group">
            <input id="productName" name="name" type="text" placeholder=" " required>
            <label for="productName">Product Name</label>
          </div>
          <div class="form-group">
            <input id="productPrice" name="price" type="number" placeholder=" " required min="0">
            <label for="productPrice">Price (INR)</label>
          </div>
          <div class="form-group image-picker-group">
            <input id="productImage" name="image" type="text" placeholder=" " readonly required>
            <label for="productImage">Default Image URL</label>
            <button type="button" class="pick-btn" data-target="image">Pick</button>
          </div>
          <div class="form-group image-picker-group">
            <input id="productHoverImage" name="hoverImage" type="text" placeholder=" " readonly>
            <label for="productHoverImage">Hover Image URL</label>
            <button type="button" class="pick-btn" data-target="hoverImage">Pick</button>
          </div>
          <div class="form-group">
            <input id="productCategory" name="category" type="text" placeholder=" ">
            <label for="productCategory">Category (optional)</label>
          </div>
          <div class="form-group">
            <select id="productStatus" name="status" required>
              <option value="" disabled selected hidden></option>
              <option value="Active">Active</option>
              <option value="Inactive">Inactive</option>
            </select>
            <label for="productStatus">Status</label>
          </div>
          <div class="checkbox-group">
            <input id="quickAdd" name="quickAdd" type="checkbox">
            <label for="quickAdd">Quick Add</label>
          </div>
          <input type="submit" value="Save Product">
        </form>
      </div>
    </div>
  <!-- </div> -->
</div>
<!-- Image Picker Modal -->
<div class="admin-container" id="imagePickerModal" style="display:none;">
  <!-- <div class="box" style="width:420px;max-width:95vw;"> -->
    <div class="login">
      <div class="loginBx">
        <button type="button" class="close-modal" id="closeImagePicker" aria-label="Close"><i class="ri-close-line"></i></button>
        <h2><i class="ri-image-fill"></i> Pick an Image</h2>
        <div id="imagePickerList" style="display:flex;flex-wrap:wrap;gap:14px;max-height:320px;overflow:auto;justify-content:center;"></div>
                            </div>
                        </div>
                    <!-- </div> -->
                </div>
<!-- Delete Confirmation Modal -->
<div class="admin-container" id="deleteModal" style="display:none;">
  <!-- <div class="box"> -->
    <div class="login">
      <div class="loginBx">
        <button type="button" class="close-modal" id="closeDeleteModal" aria-label="Close"><i class="ri-close-line"></i></button>
        <h2>Delete Product</h2>
        <div style="margin: 24px 0; text-align: center; font-size: 1.08rem; color: #23213a;">
          <span id="deleteModalText">Do you want to delete this product?</span>
        </div>
        <div style="display: flex; gap: 12px; justify-content: center;">
          <button id="confirmDeleteBtn" style="flex:1; background: linear-gradient(90deg, #7b2ff2 0%, #f357a8 100%); color: #fff; border: none; border-radius: 14px; padding: 12px 0; font-size: 1.08rem; font-weight: 600; cursor: pointer; transition: background 0.2s, box-shadow 0.2s; box-shadow: 0 2px 8px rgba(123,47,242,0.08);">Delete</button>
          <button id="cancelDeleteBtn" style="flex:1; background: #f5f5fa; color: #7b2ff2; border: none; border-radius: 14px; padding: 12px 0; font-size: 1.08rem; font-weight: 600; cursor: pointer; transition: background 0.2s;">Cancel</button>
                </div>
            </div>
        <!-- </div> -->
    </div>
</div>
<script src="/js/admin_panel.js"></script>
